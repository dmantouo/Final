{"version":3,"sources":["webpack:///./src/views/sctStatistic.vue?2e71","webpack:///src/views/sctStatistic.vue","webpack:///./src/views/sctStatistic.vue?5b76","webpack:///./src/views/sctStatistic.vue","webpack:///./src/views/sctStatistic.vue?0dce"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","model","value","queryInfo","callback","$$v","$set","expression","slot","on","changeSelect","_l","item","key","label","exportToExcel","courseData","studentData","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-f3af1a64.0846af82.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/index' }}},[_vm._v(\"Home\")]),_c('el-breadcrumb-item',[_vm._v(\"Data\")]),_c('el-breadcrumb-item',[_vm._v(\"course selection data\")])],1),_c('el-card',{attrs:{\"shadow\":\"always\",\"id\":\"studyCourseFromStudent\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"search by course name/student name\",\"clearable\":\"\"},model:{value:(_vm.queryInfo.condition),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"condition\", $$v)},expression:\"queryInfo.condition\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":5,\"offset\":3}},[_c('el-select',{attrs:{\"placeholder\":\"please select\"},on:{\"change\":_vm.changeSelect},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":3,\"offset\":5}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.exportToExcel}},[_vm._v(\"Data export\")])],1)],1),(_vm.judgeSelection)?_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"data\":_vm.courseData}},[_c('el-table-column',{attrs:{\"prop\":\"tname\",\"label\":\"teacher\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"cname\",\"label\":\"course name\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"ccredit\",\"label\":\"credits\"}}),_c('el-table-column',{attrs:{\"prop\":\"total\",\"label\":\"number\"}})],1):_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"data\":_vm.studentData}},[_c('el-table-column',{attrs:{\"prop\":\"sname\",\"label\":\"student\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"total_course\",\"label\":\"total course\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"total_ccredit\",\"label\":\"total credits\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[1,2,5,10],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--Breadcrumb-->\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item :to=\"{ path: '/index' }\">Home</el-breadcrumb-item>\r\n            <el-breadcrumb-item>Data</el-breadcrumb-item>\r\n            <el-breadcrumb-item>course selection data</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n\r\n        <el-card shadow=\"always\" id=\"studyCourseFromStudent\">\r\n            <el-row>\r\n                <el-col :span=\"8\">\r\n                    <el-input v-model=\"queryInfo.condition\" placeholder=\"search by course name/student name\" clearable >\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"5\" :offset=\"3\">\r\n                    <el-select v-model=\"value\" placeholder=\"please select\" @change=\"changeSelect\">\r\n                        <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span=\"3\" :offset=\"5\">\r\n                    <el-button type=\"success\" @click=\"exportToExcel\">Data export</el-button>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <!--students for each course-->\r\n            <el-table\r\n                    v-if=\"judgeSelection\"\r\n                    stripe\r\n                    border\r\n                    :data=\"courseData\">\r\n                <el-table-column\r\n                        prop=\"tname\"\r\n                        label=\"teacher\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"cname\"\r\n                        label=\"course name\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"ccredit\"\r\n                        label=\"credits\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"total\"\r\n                        label=\"number\">\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <!--course for each student-->\r\n            <el-table\r\n                   v-else\r\n                    stripe\r\n                    border\r\n                    :data=\"studentData\">\r\n                <el-table-column\r\n                        prop=\"sname\"\r\n                        label=\"student\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"total_course\"\r\n                        label=\"total course\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"total_ccredit\"\r\n                        label=\"total credits\">\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[1,2,5,10]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n\r\n\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"sctStatistic\",\r\n        data(){\r\n            return {\r\n                total:0,\r\n                queryInfo:{\r\n                    condition:'',\r\n                    currentPage:1,\r\n                    pageSize:5\r\n                },\r\n                courseData: [],\r\n                options: [{\r\n                    value: 'students for each course',\r\n                    label: 'students for each course'\r\n                }, {\r\n                    value: 'course for each student',\r\n                    label: 'course for each student'\r\n                }],\r\n                value: 'students for each course',\r\n                line_x_data:[],    \r\n                line_y_data:[],     \r\n                studentData:[],\r\n            }\r\n        },\r\n        computed:{\r\n\r\n            judgeSelection:function () {\r\n                if(this.value=='students for each course'){\r\n                    this.studyCourseFromStudent();\r\n                    return true;\r\n                }else{\r\n                    this.studentStudyCourse();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            handleSizeChange(val){\r\n                this.queryInfo.pageSize=val;\r\n                if(this.value=='students for each course'){\r\n                    //students for each course\r\n                    this.studyCourseFromStudent();\r\n                }else{\r\n                    this.studentStudyCourse();\r\n                }\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.queryInfo.currentPage=val;\r\n                if(this.value=='students for each course'){\r\n                    //students for each course\r\n                    this.studyCourseFromStudent();\r\n                }else{\r\n                    this.studentStudyCourse();\r\n                }\r\n            },\r\n            changeSelect(val){\r\n                if(val=='students for each course'){\r\n                    this.studyCourseFromStudent();\r\n                }else {\r\n                    this.studentStudyCourse();\r\n                }\r\n            },\r\n            studyCourseFromStudent(){\r\n                let that=this;\r\n                let params={\r\n                    condition:this.queryInfo.condition,\r\n                    currentPage:this.queryInfo.currentPage,\r\n                    pageSize:this.queryInfo.pageSize\r\n                }\r\n                this.$axios.get(this.apiUrl.studyCourseFromStudent,{\r\n                    params:params\r\n                }).then(response=>{\r\n                    that.total=response.data.data.total;\r\n                    that.courseData=response.data.data.data;\r\n\r\n                }).catch(error=>{\r\n                    console.log('---error--',error);\r\n                })\r\n            },\r\n            studentStudyCourse(){\r\n                let that=this;\r\n                let params={\r\n                    condition:this.queryInfo.condition,\r\n                    currentPage:this.queryInfo.currentPage,\r\n                    pageSize:this.queryInfo.pageSize\r\n                }\r\n                this.$axios.get(this.apiUrl.studentStudyCourse,{\r\n                    params:params\r\n                }).then(response=>{\r\n                    that.total=response.data.data.total;\r\n                    that.studentData=response.data.data.data;\r\n                }).catch(error=>{\r\n                    console.log('----error---',error);\r\n                })\r\n            },\r\n            exportToExcel(){\r\n                if(this.value=='students for each course'){\r\n                    //students for each course\r\n                    this.studyCourseFromStudentToExcel();\r\n                }else{\r\n                    this.studentStudyCourseToExcel();\r\n                }\r\n            },\r\n            showLine(){\r\n                //折线图显示\r\n                let data=this.getData();\r\n                let myChart = this.$echarts.init(document.getElementById('studyCourseFromStudent'),\"light\");\r\n                let option = {\r\n                    title: {\r\n                        text: '每门课程多少学生修',\r\n                        left: 'center'\r\n                    },\r\n                    xAxis: {\r\n                        type: \"category\",\r\n                        data: data.line_x_data\r\n                    },\r\n                    yAxis: {},\r\n                    series: [{\r\n                        data: data.line_y_data,\r\n                        type: \"line\"\r\n                    }]\r\n                }\r\n                myChart.setOption(option);\r\n            },\r\n\r\n            studyCourseFromStudentToExcel(){\r\n                require.ensure([], () => {\r\n                    let { exportJsonToExcel } = require(\"../excel/Export2Excel.js\");\r\n                    let tHeader = [\r\n                        \"teacher\",\r\n                        \"course name\",\r\n                        \"credits\",\r\n                        \"number\",\r\n                    ];\r\n\r\n                    let filterVal = [\r\n                        \"tname\",\r\n                        \"cname\",\r\n                        \"ccredit\",\r\n                        \"total\",\r\n                    ];\r\n                    let list = this.courseData;\r\n                    let data = this.formatJson(filterVal, list); \r\n                    var index1 = \"student for course\"; \r\n                    exportJsonToExcel(tHeader, data, index1); \r\n                });\r\n            },\r\n\r\n            studentStudyCourseToExcel(){\r\n                require.ensure([], () => {\r\n                    let { exportJsonToExcel } = require(\"../excel/Export2Excel.js\");\r\n                    let tHeader = [\r\n                        \"student\",\r\n                        \"total courses\",\r\n                        \"total credits\",\r\n                    ];\r\n\r\n                    let filterVal = [\r\n                        \"sname\",\r\n                        \"total_course\",\r\n                        \"total_ccredit\",\r\n                    ];\r\n                    let list = this.studentData;\r\n                    let data = this.formatJson(filterVal, list); \r\n                    var index1 = \"course for student\"; \r\n                    exportJsonToExcel(tHeader, data, index1); \r\n                });\r\n            },\r\n            formatJson(filterVal, jsonData) {\r\n                return jsonData.map(v => filterVal.map(j => v[j]));\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-table{\r\n        margin:15px auto;\r\n    }\r\n    .el-card{\r\n        margin:15px 0;\r\n        padding:10px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sctStatistic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sctStatistic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sctStatistic.vue?vue&type=template&id=660b046b&scoped=true&\"\nimport script from \"./sctStatistic.vue?vue&type=script&lang=js&\"\nexport * from \"./sctStatistic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sctStatistic.vue?vue&type=style&index=0&id=660b046b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"660b046b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sctStatistic.vue?vue&type=style&index=0&id=660b046b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sctStatistic.vue?vue&type=style&index=0&id=660b046b&scoped=true&lang=css&\""],"sourceRoot":""}