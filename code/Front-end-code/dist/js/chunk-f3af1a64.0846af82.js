(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3af1a64"],{"675e":function(t,e,a){},a151:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("Home")]),a("el-breadcrumb-item",[t._v("Data")]),a("el-breadcrumb-item",[t._v("course selection data")])],1),a("el-card",{attrs:{shadow:"always",id:"studyCourseFromStudent"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"search by course name/student name",clearable:""},model:{value:t.queryInfo.condition,callback:function(e){t.$set(t.queryInfo,"condition",e)},expression:"queryInfo.condition"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),a("el-col",{attrs:{span:5,offset:3}},[a("el-select",{attrs:{placeholder:"please select"},on:{change:t.changeSelect},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:3,offset:5}},[a("el-button",{attrs:{type:"success"},on:{click:t.exportToExcel}},[t._v("Data export")])],1)],1),t.judgeSelection?a("el-table",{attrs:{stripe:"",border:"",data:t.courseData}},[a("el-table-column",{attrs:{prop:"tname",label:"teacher",width:"180"}}),a("el-table-column",{attrs:{prop:"cname",label:"course name",width:"180"}}),a("el-table-column",{attrs:{prop:"ccredit",label:"credits"}}),a("el-table-column",{attrs:{prop:"total",label:"number"}})],1):a("el-table",{attrs:{stripe:"",border:"",data:t.studentData}},[a("el-table-column",{attrs:{prop:"sname",label:"student",width:"180"}}),a("el-table-column",{attrs:{prop:"total_course",label:"total course",width:"180"}}),a("el-table-column",{attrs:{prop:"total_ccredit",label:"total credits"}})],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},s=[],r={name:"sctStatistic",data(){return{total:0,queryInfo:{condition:"",currentPage:1,pageSize:5},courseData:[],options:[{value:"students for each course",label:"students for each course"},{value:"course for each student",label:"course for each student"}],value:"students for each course",line_x_data:[],line_y_data:[],studentData:[]}},computed:{judgeSelection:function(){return"students for each course"==this.value?(this.studyCourseFromStudent(),!0):(this.studentStudyCourse(),!1)}},methods:{handleSizeChange(t){this.queryInfo.pageSize=t,"students for each course"==this.value?this.studyCourseFromStudent():this.studentStudyCourse()},handleCurrentChange(t){this.queryInfo.currentPage=t,"students for each course"==this.value?this.studyCourseFromStudent():this.studentStudyCourse()},changeSelect(t){"students for each course"==t?this.studyCourseFromStudent():this.studentStudyCourse()},studyCourseFromStudent(){let t=this,e={condition:this.queryInfo.condition,currentPage:this.queryInfo.currentPage,pageSize:this.queryInfo.pageSize};this.$axios.get(this.apiUrl.studyCourseFromStudent,{params:e}).then(e=>{t.total=e.data.data.total,t.courseData=e.data.data.data}).catch(t=>{console.log("---error--",t)})},studentStudyCourse(){let t=this,e={condition:this.queryInfo.condition,currentPage:this.queryInfo.currentPage,pageSize:this.queryInfo.pageSize};this.$axios.get(this.apiUrl.studentStudyCourse,{params:e}).then(e=>{t.total=e.data.data.total,t.studentData=e.data.data.data}).catch(t=>{console.log("----error---",t)})},exportToExcel(){"students for each course"==this.value?this.studyCourseFromStudentToExcel():this.studentStudyCourseToExcel()},showLine(){let t=this.getData(),e=this.$echarts.init(document.getElementById("studyCourseFromStudent"),"light"),a={title:{text:"每门课程多少学生修",left:"center"},xAxis:{type:"category",data:t.line_x_data},yAxis:{},series:[{data:t.line_y_data,type:"line"}]};e.setOption(a)},studyCourseFromStudentToExcel(){a.e("chunk-26765ab6").then((()=>{let{exportJsonToExcel:t}=a("39a0"),e=["teacher","course name","credits","number"],o=["tname","cname","ccredit","total"],s=this.courseData,r=this.formatJson(o,s);var n="student for course";t(e,r,n)}).bind(null,a)).catch(a.oe)},studentStudyCourseToExcel(){a.e("chunk-26765ab6").then((()=>{let{exportJsonToExcel:t}=a("39a0"),e=["student","total courses","total credits"],o=["sname","total_course","total_ccredit"],s=this.studentData,r=this.formatJson(o,s);var n="course for student";t(e,r,n)}).bind(null,a)).catch(a.oe)},formatJson(t,e){return e.map(e=>t.map(t=>e[t]))}}},n=r,u=(a("bd20"),a("2877")),l=Object(u["a"])(n,o,s,!1,null,"660b046b",null);e["default"]=l.exports},bd20:function(t,e,a){"use strict";var o=a("675e"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-f3af1a64.0846af82.js.map